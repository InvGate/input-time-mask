!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ngx-time-mask",["exports","@angular/core","@angular/forms"],t):t((e=e||self)["ngx-time-mask"]={},e.ng.core,e.ng.forms)}(this,(function(e,t,n){"use strict";var i=function(){function e(e,n,i){this.element=e,this.renderer=n,this.ngModel=i,this.change=new t.EventEmitter,this.minHour=1,this.maxHour=12,this.fieldJustGotFocus=!1}return e.prototype.onKeyDown=function(e){var t=e.keyCode;switch(t){case 37:case 39:case 9:this._checkAndJumpCursor(t,e);break;case 46:case 8:e.preventDefault();break;case 40:this._setInputText(null,-1);break;case 38:this._setInputText(null,1);break;default:(t>=48&&t<=57||t>=96&&t<=105)&&this._setInputText(e.key,0)}9!==t&&e.preventDefault()},e.prototype.onClick=function(){this.fieldJustGotFocus=!0,this._getCursorPosition()<3?this.element.nativeElement.setSelectionRange(0,2):this.element.nativeElement.setSelectionRange(3,6)},e.prototype.onFocus=function(){this.fieldJustGotFocus=!0,this._getCursorPosition()<3?this.element.nativeElement.setSelectionRange(0,2):this.element.nativeElement.setSelectionRange(3,6)},e.prototype.onBlur=function(){this._validateField()},e.prototype._validateField=function(){var e=this.element.nativeElement.value.split(":");if("00"===e[0]){var t="01:"+e[1];this.renderer.setProperty(this.element.nativeElement,"value",t),this.inputDataChanged()}},e.prototype._checkAndJumpCursor=function(e,t){var n=this._getCursorPosition();switch(e){case 39:this.element.nativeElement.setSelectionRange(3,6);break;case 37:this.element.nativeElement.setSelectionRange(0,2);break;case 9:n<2&&!t.shiftKey?(this.element.nativeElement.setSelectionRange(3,6),t.preventDefault()):n>2&&t.shiftKey&&(this.element.nativeElement.setSelectionRange(0,2),t.preventDefault())}this.fieldJustGotFocus=!0,this._validateField()},e.prototype._setInputText=function(e,t){var n=this.element.nativeElement.value.split(":"),i=n[0],s=n[1];this._getCursorPosition()<3?(i=this.getHoursInStringAfterAppend(+i,t,this.maxHour),this._setHours(i,s,e)):(s=this.getHoursInStringAfterAppend(+s,t,60),this._setMinutes(i,s,e))},e.prototype.getHoursInStringAfterAppend=function(e,t,n){var i;if(n===this.maxHour){if(e<=n)return(i=e+t)<0?i=this.maxHour:i>n&&(i=12===this.maxHour?1:0),i<10?"0"+i:""+i}else if(e<=n)return(i=e+t)<0?i=59:i>n&&(i=0),i<10?"0"+i:""+i;return this.minHour.toString()},e.prototype._setHours=function(e,t,n){var i,s=e.split(""),o=s[0],r=s[1],a="",u=!1;null!==n?"-"===o||this.fieldJustGotFocus?(a="0"+n,u=Number(n)>(this.maxHour>20?2:1),this.fieldJustGotFocus=!1):(a=""+r+(0==+n&&0==+r?this.minHour.toString():n),Number(a)>this.maxHour&&(a=this.maxHour.toString()),0===Number(a)&&(a=this.minHour.toString()),u=!0):(a=""+e,Number(a)>this.maxHour&&(a=this.maxHour.toString()),0===Number(a)&&23===this.maxHour?a="0"+this.minHour.toString():0===Number(a)&&(a=this.maxHour.toString())),i=a+":"+t,this.renderer.setProperty(this.element.nativeElement,"value",i),this.inputDataChanged(),u?(this.element.nativeElement.setSelectionRange(3,6),this.fieldJustGotFocus=!0):(this.element.nativeElement.setSelectionRange(0,2),this.fieldJustGotFocus=!1)},e.prototype._setMinutes=function(e,t,n){var i,s=t.split(""),o=s[0],r=s[1],a=!1,u="";null!==n?"-"===o||this.fieldJustGotFocus?u="0"+n:59===Number(t)?u="0"+n:(u=""+r+n,Number(u)>59&&(u="59"),a=!0):(u=""+t,Number(u)>59&&(u="00")),i=e+":"+u,this.renderer.setProperty(this.element.nativeElement,"value",i),this.inputDataChanged(),a?(this.element.nativeElement.setSelectionRange(0,2),this.fieldJustGotFocus=!0):(this.element.nativeElement.setSelectionRange(3,6),this.fieldJustGotFocus=!1)},e.prototype._getCursorPosition=function(){var e=0,t=this.element.nativeElement;if(document.hasOwnProperty("selection")){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"===t.selectionStart)&&(e=t.selectionStart);return e},e.prototype.inputDataChanged=function(){this.ngModel.update.emit(this.element.nativeElement.value),this.change.emit(this.element.nativeElement.value)},e.decorators=[{type:t.Directive,args:[{selector:"[ngModel][ngxTimeMask]",providers:[n.NgModel]}]}],e.ctorParameters=function(){return[{type:t.ElementRef,decorators:[{type:t.Self}]},{type:t.Renderer2},{type:n.NgModel}]},e.propDecorators={change:[{type:t.Output}],minHour:[{type:t.Input}],maxHour:[{type:t.Input}],onKeyDown:[{type:t.HostListener,args:["keydown",["$event"]]}],onClick:[{type:t.HostListener,args:["click",["$event"]]}],onFocus:[{type:t.HostListener,args:["focus",["$event"]]}],onBlur:[{type:t.HostListener,args:["blur",["$event"]]}]},e}();var s=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[i],imports:[],exports:[i]}]}],e}();e.NgxTimeMaskDirective=i,e.NgxTimeMaskModule=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-time-mask.umd.min.js.map